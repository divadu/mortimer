A continuaci√≥n se presentan **prompts parciales por m√≥dulo**, dise√±ados espec√≠ficamente para usarse **uno por uno en GitHub Copilot Chat**.
Cada prompt es **autocontenido**, accionable y coherente con el README, permitiendo avanzar de forma incremental sin perder consistencia arquitect√≥nica.

La recomendaci√≥n es **copiar y pegar cada prompt en Copilot Chat**, respetando el orden sugerido.

---

# PROMPTS MODULARES PARA COPILOT CHAT

---

## üîê M√ìDULO 1 ‚Äî Usuarios, roles y autenticaci√≥n

**Prompt para Copilot Chat:**

> Genera el m√≥dulo de **Usuarios y Seguridad** para una aplicaci√≥n NestJS con Prisma y PostgreSQL.
>
> Requisitos:
>
> * Modelos: User, Role, Permission, AuditLog.
> * Autenticaci√≥n JWT.
> * Roles configurables con permisos por m√≥dulo y acci√≥n.
> * Auditor√≠a obligatoria para acciones cr√≠ticas (login, cambios de precios, anulaciones, cierres de caja).
> * Estructura modular: controller, service, DTOs, guards, decorators.
> * Validaciones con class-validator.
> * Endpoints:
>
>   * POST /auth/login
>   * POST /users
>   * GET /users
> * Semilla inicial con roles: admin, manager, cashier, waiter, kitchen.
>
> Usa buenas pr√°cticas NestJS y Prisma.

---

## üßæ M√ìDULO 2 ‚Äî Insumos, recetas y escandallos

**Prompt para Copilot Chat:**

> Genera el m√≥dulo de **Insumos, Recetas y Costos Gastron√≥micos**.
>
> Modelos requeridos:
>
> * Ingredient (materia prima)
> * IngredientCostHistory
> * Preparation (elaboraci√≥n intermedia)
> * Recipe
> * RecipeItem
>
> Reglas de negocio:
>
> * Unidades de medida convertibles (kg, g, l, unidad).
> * Merma configurable (% o neto/bruto).
> * Historial de costos por fecha.
> * Elaboraciones reutilizables como ingredientes.
> * C√°lculo autom√°tico de escandallo y costo por porci√≥n.
>
> Endpoints m√≠nimos:
>
> * POST /ingredients
> * POST /preparations
> * POST /recipes
> * GET /recipes/:id/cost
>
> Implementa servicios desacoplados para c√°lculo de costos.

---

## üì¶ M√ìDULO 3 ‚Äî Productos y stock

**Prompt para Copilot Chat:**

> Genera el m√≥dulo de **Productos y Gesti√≥n de Stock**.
>
> Modelos:
>
> * Product
> * ProductVariant
> * Category
> * Stock
> * StockMovement
>
> Reglas:
>
> * Cada venta o producci√≥n descuenta stock autom√°ticamente.
> * No permitir ventas si el stock es insuficiente.
> * Manejar stock m√≠nimo con alertas.
> * Registrar ajustes, inventarios y desperdicios.
>
> Endpoints:
>
> * POST /products
> * GET /products
> * POST /stock/move
> * GET /stock
>
> Asegura integridad transaccional en movimientos de stock.

---

## üçΩÔ∏è M√ìDULO 4 ‚Äî Sal√≥n, mesas y pedidos (POS)

**Prompt para Copilot Chat:**

> Genera el m√≥dulo de **Sal√≥n y Pedidos (POS)**.
>
> Modelos:
>
> * Table
> * Order
> * OrderItem
> * OrderStatus
>
> Reglas:
>
> * Mesas con capacidad, estado y posibilidad de uni√≥n/separaci√≥n.
> * Estados del pedido: OPEN, IN_PROGRESS, READY, DELIVERED, CLOSED, CANCELED.
> * Env√≠o de comandas a cocina/bar (simulado por ahora).
> * Divisi√≥n de cuentas.
> * Observaciones por √≠tem.
> * Anulaciones deben generar auditor√≠a.
>
> Endpoints:
>
> * POST /orders
> * POST /orders/:id/items
> * POST /orders/:id/close
> * POST /orders/:id/cancel

---

## üí≥ M√ìDULO 5 ‚Äî Pagos, caja y facturaci√≥n

**Prompt para Copilot Chat:**

> Genera el m√≥dulo de **Pagos, Caja y Facturaci√≥n**.
>
> Modelos:
>
> * Ticket
> * Invoice
> * Payment
> * PaymentMethod
> * CashRegister
>
> Requisitos:
>
> * M√©todos de pago: efectivo, transferencia, cr√©dito, d√©bito, QR.
> * Comisiones configurables por medio de pago.
> * Apertura y cierre de caja por turno y usuario.
> * Preparar integraci√≥n AFIP en un servicio desacoplado (mock).
> * Soportar Factura A, B y C.
>
> Endpoints:
>
> * POST /payments
> * POST /invoices
> * POST /cash-register/open
> * POST /cash-register/close

---

## üìÖ M√ìDULO 6 ‚Äî Reservas

**Prompt para Copilot Chat:**

> Genera el m√≥dulo de **Reservas de Mesas**.
>
> Modelos:
>
> * Reservation
> * TimeSlot
>
> Reglas:
>
> * Reservas por fecha, hora y cantidad de personas.
> * Asignaci√≥n autom√°tica de mesas seg√∫n capacidad.
> * Pol√≠ticas de horario y duraci√≥n m√°xima.
> * Registro de no-shows.
>
> Endpoints:
>
> * POST /reservations
> * GET /reservations
> * POST /reservations/:id/cancel
>
> Preparar el m√≥dulo para frontend p√∫blico.

---

## üìä M√ìDULO 7 ‚Äî Administraci√≥n y compras

**Prompt para Copilot Chat:**

> Genera el m√≥dulo de **Compras, Gastos y Proveedores**.
>
> Modelos:
>
> * Purchase
> * Supplier
> * Expense
> * ExpenseCategory
>
> Reglas:
>
> * Compras impactan en stock y costos.
> * Gastos clasificados por categor√≠a.
> * Control de vencimientos y cuentas a pagar.
>
> Endpoints:
>
> * POST /purchases
> * POST /expenses
> * GET /suppliers

---

## üìà M√ìDULO 8 ‚Äî Reportes

**Prompt para Copilot Chat:**

> Genera el m√≥dulo de **Reportes e Inteligencia de Negocio**.
>
> Reportes requeridos:
>
> * Ventas por producto y categor√≠a.
> * Rentabilidad por plato.
> * Consumo de insumos.
> * Ingenier√≠a de men√∫.
>
> Requisitos:
>
> * Queries optimizadas.
> * Exportaci√≥n CSV.
> * Servicios desacoplados para futura integraci√≥n con IA.
>
> Endpoint base:
>
> * GET /reports

---

## üß≠ Recomendaci√≥n de uso

1. Iniciar con **M√≥dulo 1 (Usuarios)**.
2. Avanzar secuencialmente.
3. No modificar modelos ya creados sin ajustar dependencias.
4. Usar este set como **gu√≠a permanente para Copilot Chat**.

---

Si quieres, el siguiente paso puede ser:

* Generar **prompts frontend equivalentes**.
* Unificar todo en un **prompt para Copilot Workspace / Agents**.
* Reducir los prompts a un **MVP de 2‚Äì3 m√≥dulos clave**.
* Generar un **checklist de validaci√≥n funcional por m√≥dulo**.
